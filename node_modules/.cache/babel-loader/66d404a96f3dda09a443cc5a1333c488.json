{"ast":null,"code":"var _jsxFileName = \"/Users/rizof/Desktop/React-Search-test/src/FilterableProductTable.js\";\nimport React, { useState } from 'react';\nimport ProductTable from './ProductTable.js';\nimport SearchBar from './SearchBar.js';\nimport ProductRow from './ProductRow.js';\nimport './FilterableProductTable.css';\nimport Column2 from './Column2.js';\nimport ProductCategoryRow from './ProductCategoryRow.js';\nimport FormSelectedCategories from './FormSelectedCategories.js';\nimport Cart from './Cart.js';\n\nfunction categoryFilter(categoriesAndProduct) {\n  const categories = [];\n\n  for (const property in categoriesAndProduct) {\n    categories.push( /*#__PURE__*/React.createElement(ProductCategoryRow, {\n      key: property,\n      category: property,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  return categories;\n}\n\nfunction createTableProducts(categoriesAndProduct, categories) {\n  const table = [];\n  let isEmpty = Object.keys(categories).length;\n\n  for (const property in categoriesAndProduct) {\n    if (isEmpty === 0 || categories.includes(property)) table.push( /*#__PURE__*/React.createElement(ProductTable, {\n      category: property,\n      key: property,\n      rows: categoriesAndProduct[property],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  return table;\n}\n\nconst NoProduct = () => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }\n}, \"il n'y a pas de product\"));\n\nfunction FilterableProductTable({\n  products\n}) {\n  const [filterText, setText] = useState(\"\");\n  const [inStockOnly, setStock] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [productsCart, setCartProduct] = useState([]);\n  let lastCategoriy = [];\n  const categoriesAndProduct = [];\n  const filterCategories = [];\n  const table = [];\n\n  const addToCart = index => {\n    console.log(\"coucou\");\n    setCartProduct(productsCart.push(products[index]));\n  };\n\n  console.log(addToCart);\n  console.log(productsCart);\n  products.map((product, index) => {\n    if (inStockOnly && !product.stocked) return false;\n    if (product.name.toLowerCase().indexOf(filterText.toLowerCase()) === -1) return false;\n\n    if (!lastCategoriy.includes(product.category)) {\n      lastCategoriy.push(product.category);\n      categoriesAndProduct[product.category] = [];\n    }\n\n    const name = product.stocked ? product.name : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 55\n      }\n    }, product.name);\n    const price = product.price;\n    categoriesAndProduct[product.category].push( /*#__PURE__*/React.createElement(ProductRow, {\n      key: index,\n      name: name,\n      price: price,\n      onAddCart: index => addToCart(index),\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 53\n      }\n    }));\n    return true;\n  });\n  filterCategories.push(categoryFilter(categoriesAndProduct));\n  table.push(createTableProducts(categoriesAndProduct, categories));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Column2, {\n    left: /*#__PURE__*/React.createElement(\"img\", {\n      className: \"imgLogo\",\n      alt: \"logo\",\n      src: \"https://fr.freelogodesign.org/Content/img/logo-samples/flooop.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }),\n    right: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentTopRightHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      onChangefilterText: setText,\n      onChangeStockOnly: setStock,\n      inStockOnly: inStockOnly,\n      filterText: filterText,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 63\n      }\n    }), /*#__PURE__*/React.createElement(Cart, {\n      product: productsCart,\n      onChangeProductContent: setCartProduct,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contentTableProduct\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, filterCategories.length !== 0 && /*#__PURE__*/React.createElement(FormSelectedCategories, {\n    category: filterCategories,\n    onChangeCategories: setCategories,\n    selectedCategories: categories,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 47\n    }\n  }), table.length === 0 ? /*#__PURE__*/React.createElement(NoProduct, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 35\n    }\n  }) : table));\n}\n\nexport default FilterableProductTable;","map":{"version":3,"sources":["/Users/rizof/Desktop/React-Search-test/src/FilterableProductTable.js"],"names":["React","useState","ProductTable","SearchBar","ProductRow","Column2","ProductCategoryRow","FormSelectedCategories","Cart","categoryFilter","categoriesAndProduct","categories","property","push","createTableProducts","table","isEmpty","Object","keys","length","includes","NoProduct","FilterableProductTable","products","filterText","setText","inStockOnly","setStock","setCategories","productsCart","setCartProduct","lastCategoriy","filterCategories","addToCart","index","console","log","map","product","stocked","name","toLowerCase","indexOf","category","price"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport ProductTable from './ProductTable.js' \nimport SearchBar from './SearchBar.js'\nimport ProductRow from './ProductRow.js'\nimport './FilterableProductTable.css'\nimport Column2 from './Column2.js'\nimport ProductCategoryRow from './ProductCategoryRow.js'\nimport FormSelectedCategories from './FormSelectedCategories.js'\nimport Cart from './Cart.js'\n\n\nfunction categoryFilter(categoriesAndProduct) {\n    const categories = []\n    for (const property in categoriesAndProduct) {\n        categories.push(\n            <ProductCategoryRow key={property} category={property} />\n        )\n    }\n    return categories\n}\n\nfunction createTableProducts(categoriesAndProduct, categories){\n    const table = []\n    let isEmpty = Object.keys(categories).length\n    for (const property in categoriesAndProduct) {\n            if (isEmpty === 0|| categories.includes(property)) \n                table.push(\n                    <ProductTable \n                        category = {property}\n                        key={property}\n                        rows={categoriesAndProduct[property]}\n                    />\n                )\n     }\n     return table\n}\n\nconst NoProduct = ()  =>(\n    <tr>\n        <td>il n'y a pas de product</td>\n    </tr>\n)\n\n\n\n\nfunction FilterableProductTable ({products}){\n    const [filterText, setText] = useState(\"\")\n    const [inStockOnly ,setStock] = useState(false)\n    const [categories, setCategories] = useState([])\n    const [productsCart, setCartProduct] = useState([])\n\n    let lastCategoriy = []\n    const categoriesAndProduct = []\n    const filterCategories = []\n    const table = [] \n\n    const addToCart = index => {\n        console.log(\"coucou\")\n        setCartProduct(productsCart.push(products[index]))\n    }\n    console.log(addToCart)\n    console.log(productsCart)\n\n    products.map((product, index) => {\n        if (inStockOnly && !product.stocked)\n            return false\n        if (product.name.toLowerCase().indexOf(filterText.toLowerCase()) === -1)\n            return false\n        if (!lastCategoriy.includes(product.category)){\n            lastCategoriy.push(product.category)\n            categoriesAndProduct[product.category] = []\n        }\n        const name = product.stocked ? product.name : <span className='danger'>{product.name}</span>\n        const price = product.price \n        categoriesAndProduct[product.category].push(<ProductRow \n                key={index} \n                name={name}\n                price={price}\n                onAddCart={(index) => addToCart(index)}\n                index={index}\n            />)\n        return true\n    })\n    filterCategories.push(categoryFilter(categoriesAndProduct))\n    table.push(createTableProducts(categoriesAndProduct, categories))\n\n    return (<>\n        <header>\n            <Column2 \n                left={\n                    <img className=\"imgLogo\" alt=\"logo\" src=\"https://fr.freelogodesign.org/Content/img/logo-samples/flooop.png\"/>\n                }\n                right={<div className=\"contentTopRightHeader\"><SearchBar\n                        onChangefilterText={setText}\n                        onChangeStockOnly={setStock}\n                        inStockOnly={inStockOnly}\n                        filterText={filterText}\n                    />\n                    <Cart \n                        product={productsCart}\n                        onChangeProductContent={setCartProduct}\n                    />\n                </div>}\n            />\n        </header>\n        <div className=\"contentTableProduct\">\n            {filterCategories.length !== 0 && <FormSelectedCategories category={filterCategories}\n                onChangeCategories={setCategories}\n                selectedCategories={categories}\n                />}\n            {table.length === 0 ? <NoProduct /> : table}\n        </div>\n    </>)\n}\n\nexport default FilterableProductTable;\n"]},"metadata":{},"sourceType":"module"}